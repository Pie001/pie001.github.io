---
title: Mac & VSCode ê°œë°œ í™˜ê²½ì—ì„œ Golang ì„¤ì¹˜ ~ Echoë¡œ hello world ê¹Œì§€
layout: post
date:  2020-07-16 18:18
image: /assets/images/post_header.jpg
headerImage: true
#projects: true
blog: true
tag:
- go
- mac os
- echo
- dev
- programming
category: tech-note
author: pie
description: Mací™˜ê²½ì—ì„œ Golang ì„¤ì¹˜ ~ Echoë¡œ hello world ê¹Œì§€
---

# 0. ëª©ì 
mací™˜ê²½ì— goë¥¼ ì„¤ì¹˜í•´ì„œ, echoë¡œ ì›¹ í˜ì´ì§€ë¥¼ ë„ì›Œë´…ì‹œë‹¤. ì°¸, IDEëŠ” VSCodeë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

# 1. Go ê°œë°œí™˜ê²½ êµ¬ì¶•

## 1-1. go ì¸ìŠ¤í†¨
```
$ brew install go
```

ë¬¸ì œ ì—†ìœ¼ë©´ ì•„ë˜ì™€ ê°™ì´ ì²˜ë¦¬ë‚´ìš©ì´ í‘œì‹œë©ë‹ˆë‹¤.
```
==> Downloading https://homebrew.bintray.com/bottles/go-1.14.5.mojave.bottle.tar
==> Downloading from https://d29vzk4ow07wi7.cloudfront.net/d653d2c8faf8b8c0e2152
######################################################################## 100.0%
==> Pouring go-1.14.5.mojave.bottle.tar.gz
ğŸº  /usr/local/Cellar/go/1.14.5: 9,443 files, 424.7MB
```

## 1-2. goê°€ ì œëŒ€ë¡œ ì„¤ì¹˜ ë˜ì—ˆëŠ”ì§€ í™•ì¸
```
$ go
Go is a tool for managing Go source code.

Usage:

	go <command> [arguments]

The commands are:
-- ì´í•˜ ì»¤ë§¨ë“œ ì„¤ì •
```

```
$ go version
go version go1.14.5 darwin/amd64
```

## 1-3. ì„¤ì¹˜ê°€ ë˜ì—ˆìœ¼ë©´ Hello world!
```
$ mkdir -p $HOME/go/src/hello
adminui-MacBook-Pro:go admin$ cd $HOME/go/src/hello
adminui-MacBook-Pro:hello admin$ cat << EOF > hello.go 
> package main
> import "fmt"
> func main() {
>     fmt.Printf("hello, world\n")
> }
> EOF
adminui-MacBook-Pro:hello admin$ go build
adminui-MacBook-Pro:hello admin$ ./hello
hello, world
```
ë¬¸ì œì—†ì–´ ë³´ì…ë‹ˆë‹¤.

## 1-4. VSCodeì˜ go í™•ì¥ê¸°ëŠ¥ ì„¤ì¹˜

![0069-001.png](/assets/images/post/0069-001.png)

- Extensionsì—ì„œ Go for Visual Studio Code ë¥¼ ê²€ìƒ‰í•´ì„œ ì„¤ì¹˜í•©ë‹ˆë‹¤.
- Command Paletteì—ì„œ Go:Install/Update Toolsì„ ì„ íƒí•´ì„œ ```gocode```ê³¼ ```gocode-modules```ë§Œ ë¹¼ê³  ë‹¤ ì„ íƒí•´ì„œ okë¥¼ í´ë¦­í•©ë‹ˆë‹¤.
ì°¸ê³ ì‚¬ì´íŠ¸ë¥¼ ë³´ë‹ˆ ì„ íƒì—ì„œ ì œì™¸í•œ ëª¨ë“ˆì€ ```go.mod```ì˜ ì˜í–¥ìœ¼ë¡œ ë™ì‘ì´ ë¶ˆì•ˆì •í•œ ê²½ìš°ê°€ ìˆë‹¤ê³  í•˜ì—¬ í•´ë‹¹ ì‚¬ì´íŠ¸ ì„¤ëª…ëŒ€ë¡œ ```gopls``` ë¥¼ ì¶”ê°€ë¡œ ì„¤ì¹˜í•  ì˜ˆì •ì…ë‹ˆë‹¤.

## 1-5. ```gopls``` ì¶”ê°€
- ì°¸ê³  : [gopls - User guide](https://github.com/golang/tools/blob/master/gopls/doc/user.md)

```go get``` ì»¤ë§¨ë“œë¥¼ ì‚¬ìš©í•´ì„œ ```gopls```ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.
```
$ go get golang.org/x/tools/gopls@latest
go: downloading golang.org/x/tools/gopls v0.4.3
go: golang.org/x/tools/gopls latest => v0.4.3
go: downloading golang.org/x/tools v0.0.0-20200708181441-6004c8539734
go: downloading mvdan.cc/xurls/v2 v2.2.0
go: downloading honnef.co/go/tools v0.0.1-2020.1.4
go: downloading github.com/sergi/go-diff v1.1.0
go: downloading golang.org/x/sync v0.0.0-20190911185100-cd5d95a43a6e
go: downloading github.com/BurntSushi/toml v0.3.1
```

### [gopls vscode](https://github.com/golang/tools/blob/master/gopls/doc/vscode.md)ë¥¼ ì°¸ê³ í•˜ì—¬ VSCodeì˜ ì„¤ì •íŒŒì¼ì„ ìˆ˜ì •
ì €ì˜ ê²½ìš° VSCodeë„ ë§‰ ê¹”ì€ ê¹¨ë—í•œ ìƒíƒœë¼ í˜„ì¬ëŠ” ì•„ë˜ ë‚´ìš©ì„ ì¶”ê°€í•œ ìƒíƒœì…ë‹ˆë‹¤.

#### settings.json
```
{
    "go.useLanguageServer": true,
    "[go]": {
        "editor.formatOnSave": true,
        "editor.codeActionsOnSave": {
            "source.organizeImports": true,
        },
        // Optional: Disable snippets, as they conflict with completion ranking.
        "editor.snippetSuggestions": "none",
    },
    "[go.mod]": {
        "editor.formatOnSave": true,
        "editor.codeActionsOnSave": {
            "source.organizeImports": true,
        },
    },
    "gopls": {
         // Add parameter placeholders when completing a function.
        "usePlaceholders": true,
    
        // If true, enable additional analyses with staticcheck.
        // Warning: This will significantly increase memory usage.
        "staticcheck": false,
    }
}
```

![0069-002.png](/assets/images/post/0069-002.png)

ì—¬ê¸°ê¹Œì§€ goë¡œ ê°œë°œ ì¤€ë¹„ ì™„ë£Œ!

### ì°¸ê³  ì‚¬ì´íŠ¸
- [ã€ç¬¬4å›ã€‘Goè¨€èªï¼ˆGolangï¼‰å…¥é–€ï½REST APIç’°å¢ƒæ§‹ç¯‰ç·¨ï½](https://rightcode.co.jp/blog/information-technology/golang-introduction-rest-api)
- [echo : guide](https://echo.labstack.com/guide)


# 2. echo ë„ì…

## echo ì„¤ì¹˜
```
go get -u github.com/labstack/echo/...
```

## main.go ì‘ì„±
#### main.go

```$HOME/go/src/github.com/echo-test``` ê²½ë¡œì— main.go íŒŒì¼ì„ ì‘ì„±í•©ë‹ˆë‹¤.

```
package main

import (
	"net/http"

	"github.com/labstack/echo"
)

func main() {
	e := echo.New()
	e.GET("/", func(c echo.Context) error {
		return c.String(http.StatusOK, "Hello, World!! by pie")
	})
	e.Logger.Fatal(e.Start(":1323"))
}
```
main.go íŒŒì¼ì„ ë¹Œë“œí•œ ë‹¤ìŒì— í„°ë¯¸ë„ì—ì„œ ```go run``` ì»¤ë§¨ë“œë¥¼ ì…ë ¥í•˜ê±°ë‚˜ VSCodeì—ì„œ Run ë©”ë‰´ë¥¼ ì‚¬ìš©í•´ì„œ ì‹¤í–‰í•©ë‹ˆë‹¤.

```http://localhost:1323/``` ë¡œ ì ‘ì†í•´ì„œ ì•„ë˜ì™€ ê°™ì´ í‘œì‹œë˜ë©´ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

![0069-003.png](/assets/images/post/0069-003.png)

![0069-004.png](/assets/images/post/0069-004.png)

### ì°¸ê³  ì‚¬ì´íŠ¸
- [Go in Visual Studio Code](https://code.visualstudio.com/docs/languages/go)
- [Goå‹‰å¼·(1)ã€€macï¼‹VSCodeï¼‹Goç’°å¢ƒã‚’è¨­å®š](https://qiita.com/oruharo/items/545378eae5c707f717ed)
- [golang echo è¶…å…¥é–€](https://hawksnowlog.blogspot.com/2019/04/tutorial-golang-echo.html)
- [Go/echo å…¥é–€](https://qiita.com/pylor1n/items/36912a47c893ea5782cc)
- [(éšæ™‚æ›´æ–°) VSCodeã®å„ç¨®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®æ ¼ç´å ´æ‰€å‚™å¿˜éŒ²ãƒ¡ãƒ¢](https://qiita.com/y-vectorfield/items/f9df044981ef29083318)
